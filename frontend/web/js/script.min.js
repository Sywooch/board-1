

$(document).ready(function () {

    var modal = $('.myModal');
    var modalas1 = $('.modalas1');
    var btn = $('.myBtn');
    var btn1 = $('.myBtn1');
    var span = $('.close')[0];
    //console.log(modal);

// When the user clicks on the button, open the modal
   $('.myBtn').click(function() {
        modal.show();
});
      $('.myBtn1').click(function() {
        modalas1.show();
});

// When the user clicks on <span> (x), close the modal
    $('.close').click(function() {
        modal.hide();
});

// When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
     if (event.target == modal) {
           modal.hide();
    }
}
 // open edit-accordion
  $('.edit-accordion').click(function(event) {
    $(this).next('.edit-accordion-list').slideToggle();
      return false;
  });
  $("body").click(function(e) {
    if($(e.target).closest(".edit-accordion-list").length==0) $(".edit-accordion-list").hide("slow");
  });
// close edit-accordion



 // open heder-accordion
  // $('.header__top_user').click(function(event) {
  //   var target = $(this).data("target");
  //   $('#'+target).css('display', 'block')
  //     // return false;
  //
  // });

  // open header-user-menu
    $(".header__top_user").click(function(event) {
      $(".header__top_user-list").slideToggle();
        // console.log(".header__top_user-list");
        return false;
    });
    $("body").click(function(e) {
      if($(e.target).closest(".header__top_user-list").length==0) $(".header__top_user-list").hide("slow");
    });
  // open header-user-menu
// close accordion



  $(".owl-model").owlCarousel({
    loop: true,
    margin: 30,
    nav : true,
    navText: true,
    navigation:true,
    /*navigationText: true,*/
    pagination : true,
    items: 6,
    dots: false,
    singleItem:false,
    responsiveClass:true,
    responsive: {
      0: {
        items: 6,
        nav: true,
      },
      600: {
        items: 6,
        nav: true,
      },
      1000: {
        items: 6,
        nav: true,
        loop: true,
      },
      1200: {
        items: 6,
        nav: true,
        loop: true,

      }
    }

  });
  $(".owl-model-specials").owlCarousel({
    loop: true,
    margin: 20,
    nav : true,
    navText: true,
    navigation:true,
    /*navigationText: true,*/
    pagination : true,
    items: 4,
    dots: false,
    singleItem:false,
    responsiveClass:true,
    responsive: {
      0: {
        items: 4,
        nav: true,
      },
      600: {
        items: 4,
        nav: true,
      },
      1000: {
        items: 4,
        nav: true,
        loop: true,
      },
      1200: {
        items: 4,
        nav: true,
        loop: true,

      }
    }

  });

  $('.slider-for').slick({
   slidesToShow: 1,
   slidesToScroll: 1,
   arrows: true,
   fade: true,
   asNavFor: '.slider-nav',
    // autoplay: true
 });
 $('.slider-nav').slick({
   slidesToShow: 3,
   slidesToScroll: 1,
   asNavFor: '.slider-for',
   dots: false,
   centerMode: true,
   focusOnSelect: true,
   vertical: true,
   arrows: false,
   verticalSwiping: true

 });
// open help-category menu
   $('#cssmenu li.has-sub > a').on('click', function(){
     $(this).removeAttr('href');
     var element = $(this).parent('li');
     if (element.hasClass('open')) {
         element.removeClass('open');
         element.find('li').removeClass('open');
         element.find('ul').slideUp();
     }
     else {
         element.addClass('open');
         element.children('ul').slideDown();
         element.siblings('li').children('ul').slideUp();
         element.siblings('li').removeClass('open');
         element.siblings('li').find('li').removeClass('open');
         element.siblings('li').find('ul').slideUp();
     }
  });

  $('.has-sub>a').append('<span class="holder"></span>');
  // close
// open all-shops-category menu
   $('#cssmenu-1 li.has-sub > a').on('click', function(){
     $(this).removeAttr('href');
     var element = $(this).parent('li');
     if (element.hasClass('open')) {
         element.removeClass('open');
         element.find('li').removeClass('open');
         element.find('ul').slideUp();
     }
     else {
         element.addClass('open');
         element.children('ul').slideDown();
         element.siblings('li').children('ul').slideUp();
         element.siblings('li').removeClass('open');
         element.siblings('li').find('li').removeClass('open');
         element.siblings('li').find('ul').slideUp();
     }
  });

  $('.has-sub>a').append('<span class="holder"></span>');
  // close
});

 /* выбор города */
 $(document).ready(function () {
   $('.delivery_list').click(function(){
   $(".cities_list").slideToggle('fast');
   });
   $('ul.cities_list li').click(function(){
   var tx = $(this).html();
   var tv = $(this).attr('alt');
   $(".cities_list").slideUp('fast');
   $(".delivery_list span").html(tx);
   $(".delivery_text").html(tv);
   });
 });
 $(document).ready(function () {
   $('.delivery_list1').click(function(){
   $(".cities_list1").slideToggle('fast');
   });
   $('ul.cities_list1 li').click(function(){
   var tx = $(this).html();
   var tv = $(this).attr('alt');
   $(".cities_list1").slideUp('fast');
   $(".delivery_list1 .select-category").html(tx);
   $(".delivery_text1").html(tv);
   });
 });

 $(function() {
   $(".heading-change").click(function(e) {
     e.preventDefault();
     $(".heading-change").removeClass('active');
     $(this).addClass('active');
   })
 });

 // $(function() {
 //   $(".option").click(function(e) {
 //     e.preventDefault();
 //     $(".option").removeClass('active');
 //     $(this).addClass('active');
 //   })
 // });


 $(document).ready(function() {
   $('.fancybox-thumb').fancybox({
      prevEffect : 'fade',
      nextEffect : 'fade',

      closeBtn  : true,
      arrows    : true,
      nextClick : true,

      helpers : {
          thumbs : {
              width  : 40,
              height : 40

          }
      }
  });
  // карта
   var map;
   ymaps.ready(function () {
      if ($('#map').length > 0) {
         map = new ymaps.Map("map", {
             center: [55.76, 37.64],
             zoom: 7
         });
       }
     });


  // $(window).scroll(function () {
  //
  //   if($(this).scrollTop() >= 120){
  //
  //   $('.ad-charasteristics').attr('id', 'sidebar-filter');
  //   // $("#sidebar-filter").fadeIn(1000);
  //   $('.adpage').addClass('fixed_addpage');
  //
  //     $('#sidebar-filter').Stickyfill();
  //   }
  //   else {
  //
  //   $('.adpage').removeClass('fixed_addpage');
  //   $('.ad-charasteristics').removeAttr('id', 'sidebar-filter');
  //
  //   }
  //   });
  $(window).scroll(function () {

    if($(this).scrollTop() >= 145){
    $('.adpage').addClass('fixed_addpage');
    }
    else {
    $('.adpage').removeClass('fixed_addpage');
    }
    });
  var formTop = $('.ad-charasteristics').offset().top;

  $(window).scroll(function(){

   var windowTop = $(window).scrollTop();
   var formWidth = $('.ad-charasteristics').width();
   var fluidVal = ( formWidth/$(window).width() ) * 100;

   if (formTop < windowTop) {
     $('.ad-charasteristics-form').css({
       position: 'fixed',
       top: 10,
       width: fluidVal + "%",
       transform: "translateY(35px)"
     });

   } else {
     $('.ad-charasteristics-form').css({
       position: 'static',
       width: '100%',
        transform: "translateY(0px)"
     });
   }

 });


  // var offset = $(".ad-charasteristics").offset();
  // var topPadding = 15;
  // $(window).scroll(function() {
  //
  // if ($(window).scrollTop() > offset.top) {
  // $(".ad-charasteristics").stop().animate({
  // marginTop: $(window).scrollTop() - offset.top + topPadding
  //
  // });
  // } else {
  // $(".ad-charasteristics").stop().animate({
  // marginTop: 0
  // });
  // }
  //
  // });

    $(function() {
        $('.ad-concrete__content_right').Stickyfill();
    });

});
